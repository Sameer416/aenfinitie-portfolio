<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio Admin - Aenfinite</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: linear-gradient(135deg, #38bdf8 0%, #e0e7ef 40%, #f7f9fb 100%);
      font-family: 'Inter', sans-serif;
    }
    .glass {
      background: rgba(255,255,255,0.18);
      box-shadow: 0 8px 32px 0 rgba(31,38,135,0.10);
      backdrop-filter: blur(12px) saturate(160%);
      -webkit-backdrop-filter: blur(12px) saturate(160%);
      border-radius: 1.5rem;
      border: 1.5px solid rgba(255,255,255,0.28);
    }
    .fade-in {
      animation: fadeIn 0.7s cubic-bezier(.4,0,.2,1);
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(24px); }
      to { opacity: 1; transform: none; }
    }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center">
  <div class="w-full max-w-xl p-8 glass fade-in">
    <h2 class="text-3xl font-bold text-center text-blue-700 mb-6">Add Portfolio Item</h2>
    <form id="portfolioForm" class="space-y-4">
      <input required name="title" class="w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="Title" />
      <textarea required name="description" class="w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="Description"></textarea>
      <select required name="category" class="w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-400">
        <option value="">Select Category</option>
        <option value="cms">Custom & CMS Development</option>
        <option value="uiux">UI/UX Designing & Branding</option>
        <option value="marketing">Marketing & Digital Solutions</option>
        <option value="mobile">Mobile & Software Development</option>
        <option value="ai">AI Automations & Integrations</option>
      </select>
      <input name="gradient" class="w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="Gradient (e.g. from-blue-400 to-purple-500)" />
      <input name="icon" class="w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="SVG Icon (optional)" />
      <input name="image" class="w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="Image URL (https://...)" />
      <input name="tags" class="w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="Tags (comma separated, e.g. React,Node,UI)" />
      <button type="submit" class="w-full py-3 rounded-lg bg-blue-600 text-white font-bold hover:bg-blue-700 transition">Add Item</button>
    </form>
    <div id="result" class="mt-4 text-center"></div>
  </div>
  <script>
    const form = document.getElementById('portfolioForm');
    const result = document.getElementById('result');
    form.onsubmit = async (e) => {
      e.preventDefault();
      const data = Object.fromEntries(new FormData(form));
      // Parse tags
      data.tags = (data.tags || '').split(',').map(t => t.trim()).filter(Boolean).map(t => ({ text: t, color: 'bg-blue-100 text-blue-800' }));
      // Remove empty icon/gradient/image
      if (!data.icon) delete data.icon;
      if (!data.gradient) delete data.gradient;
      if (!data.image) delete data.image;
      try {
        const res = await fetch('http://localhost:5000/api/portfolio', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });
        if (!res.ok) throw new Error('Failed to add item');
        form.reset();
        result.textContent = 'Portfolio item added!';
        result.className = 'mt-4 text-center text-green-600';
      } catch (err) {
        result.textContent = 'Error: ' + err.message;
        result.className = 'mt-4 text-center text-red-600';
      }
    };
  </script>
</body>
</html>
